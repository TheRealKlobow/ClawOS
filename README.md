# ClawOS

Public, installable Raspberry Pi image for running OpenClaw Gateway headless on LAN.

## QUICK START

1. Download Raspberry Pi OS Lite image to `out/base/raspios-lite.img`.
2. Copy env template: `cp .env.example .env` (do not put secrets in git).
3. Build (Linux root shell): `set -a; source .env; set +a; bash image/build.sh`.
4. Flash `out/clawos-pi.img.xz` to SD/USB.
5. Boot Pi on Ethernet (DHCP on `eth0`), then SSH in.

## v1 defaults

- Headless by default
- SSH enabled
- LAN-only design (Ethernet)
- DHCP on `eth0` by default
- Optional static IP via config/env (`NETWORK_STATIC_ENABLED=true`)
- No Wi-Fi auto-join
- No interactive prompts on boot

## First-boot UX

Choose one:

- **Boot partition drop-in (recommended)**: provide a config file artifact during image customization.
- **Post-boot env edit**: edit `/etc/default/openclaw-gateway` over SSH.

Both flows keep secrets out of git and out of shipped defaults.

## SECURITY

Default posture:

- Gateway bind default is loopback.
- No secrets committed.
- No secrets baked into release artifacts.

Open ports (base expectation):

- `22/tcp` (SSH)
- `18789/tcp` only if user config exposes gateway beyond loopback

Hardening recommendations:

- Keep gateway on loopback unless explicitly needed
- Use token auth with long random token
- Disable SSH password auth (keys only)
- Restrict inbound access at firewall/router

## Release/versioning

- Current release target: `v0.1.4`
- Release artifact: `clawos-pi.img.xz`
- SHA256 checksums generated by `scripts/release-image.sh`
- Release notes template: `docs/release-notes-template.md`

## Updates

- Manual updater: `sudo clawos-update`
- OTA runtime artifact: `clawos-runtime-<version>.tar.gz`
- Optional auto-update: `clawos-update.timer` daily at 03:00
- Auto-update runs only when `/etc/clawos/clawos.env` has `AUTO_UPDATE=true`
- Checksum verification is mandatory before apply; failures abort safely
- Runtime update scope is limited to ClawOS-managed files only (no full OS reflashing)

## Support matrix

| Raspberry Pi model | Status | Notes |
|---|---|---|
| Pi 4B (2GB/4GB/8GB) | Pending validation | Target for v0.1.0 proof run |
| Pi 5 | Pending validation | Expected to work; not yet proven |
| Pi 3B/3B+ | Pending validation | Not yet tested |
| Pi Zero 2 W | Pending validation | Ethernet adapter required for LAN-only v1 |

## Branch protection (recommended before public release)

- Protect `main`
- Require PR + review
- Require CI checks
- Disable force-push to `main`

## Disclaimer

This project is provided **as is**, without warranty. You are responsible for your deployment, network exposure, credentials, and system safety.
